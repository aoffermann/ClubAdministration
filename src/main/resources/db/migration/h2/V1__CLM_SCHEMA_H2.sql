CREATE SEQUENCE USER_DATA_SEQ START WITH 1000 INCREMENT BY 1;

CREATE TABLE REVINFO (
	REV 				INTEGER				GENERATED BY DEFAULT AS IDENTITY,
 	REVTSTMP			BIGINT						, 
	PRIMARY KEY (REV)
);

CREATE TABLE USER_DATA (
	USER_ID 			BIGINT 				NOT NULL,
    USER_NAME 			VARCHAR2(255) 		NOT NULL,
    PASSWORD			VARCHAR2(255)		NOT NULL,
    PRIMARY KEY (USER_ID)
);

CREATE TABLE USER_DATA_AUD (
	USER_ID 			BIGINT 				NOT NULL,
    USER_NAME 			VARCHAR2(255) 				,
    PASSWORD			VARCHAR2(255)				,
    REV					INTEGER				NOT NULL,
    REVTYPE				TINYINT						, 
    PRIMARY KEY (USER_ID, REV)
);

ALTER TABLE USER_DATA_AUD ADD CONSTRAINT FK_USER_DATA_AUD_REVINFO FOREIGN KEY (REV) REFERENCES REVINFO; 